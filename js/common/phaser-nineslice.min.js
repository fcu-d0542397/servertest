/*!
 * phaser-nineslice - version 2.0.0 
 * NineSlice plugin for Phaser.io!
 *
 * OrangeGames
 * Build at 19-01-2017
 * Released under MIT License 
 */

var __extends=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},PhaserNineSlice;!function(e){var t=function(e){function t(t,i,r,a,n,o,h,c){var s=e.call(this,t,i,r,a,n)||this;return s.baseTexture=s.texture.baseTexture,s.baseFrame=s.texture.frame,null===n||c?c||(c=t.cache.getNineSlice(a)):c=t.cache.getNineSlice(n),void 0===c?s:(s.topSize=c.top,c.left?s.leftSize=c.left:s.leftSize=s.topSize,c.right?s.rightSize=c.right:s.rightSize=s.leftSize,c.bottom?s.bottomSize=c.bottom:s.bottomSize=s.topSize,s.loadTexture(new Phaser.RenderTexture(s.game,s.localWidth,s.localHeight)),s.resize(o,h),s)}return __extends(t,e),t.prototype.renderTexture=function(){this.texture.resize(this.localWidth,this.localHeight,!0);for(var e=[0,this.leftSize,this.baseFrame.width-this.rightSize,this.baseFrame.width],t=[0,this.topSize,this.baseFrame.height-this.bottomSize,this.baseFrame.height],i=[0,this.leftSize,this.localWidth-this.rightSize,this.localWidth],r=[0,this.topSize,this.localHeight-this.bottomSize,this.localHeight],a=0;a<3;a++)for(var n=0;n<3;n++){var o=this.createTexturePart(e[n],t[a],e[n+1]-e[n],t[a+1]-t[a]);o.width=i[n+1]-i[n],o.height=r[a+1]-r[a],this.texture.renderXY(o,i[n],r[a])}},t.prototype.resize=function(e,t){this.localWidth=e,this.localHeight=t,this.renderTexture()},t.prototype.createTexturePart=function(e,t,i,r){var a=new PIXI.Rectangle(this.baseFrame.x+this.texture.frame.x+e,this.baseFrame.y+this.texture.frame.y+t,Math.max(i,1),Math.max(r,1));return new Phaser.Sprite(this.game,0,0,new PIXI.Texture(this.baseTexture,a))},t}(Phaser.Sprite);e.NineSlice=t}(PhaserNineSlice||(PhaserNineSlice={}));var PhaserNineSlice;!function(e){var t=function(t){function i(e,i){var r=t.call(this,e,i)||this;return r.addNineSliceCache(),r.addNineSliceFactory(),r.addNineSliceLoader(),r}return __extends(i,t),i.prototype.addNineSliceLoader=function(){Phaser.Loader.prototype.nineSlice=function(e,t,i,r,a,n){var o={top:i};r&&(o.left=r),a&&(o.right=a),n&&(o.bottom=n),this.addToFileList("image",e,t),this.game.cache.addNineSlice(e,o)}},i.prototype.addNineSliceFactory=function(){Phaser.GameObjectFactory.prototype.nineSlice=function(t,i,r,a,n,o,h){void 0===h&&(h=this.world);var c=new e.NineSlice(this.game,t,i,r,a,n,o);return h.add(c)},Phaser.GameObjectCreator.prototype.nineSlice=function(t,i,r,a,n,o){return new e.NineSlice(this.game,t,i,r,a,n,o)}},i.prototype.addNineSliceCache=function(){Phaser.Cache.prototype.nineSlice={},Phaser.Cache.prototype.addNineSlice=function(e,t){this.nineSlice[e]=t},Phaser.Cache.prototype.getNineSlice=function(e){return this.nineSlice[e]}},i}(Phaser.Plugin);e.Plugin=t}(PhaserNineSlice||(PhaserNineSlice={}));